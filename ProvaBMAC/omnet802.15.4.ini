[Config safe]
network = NetworkA
sim-time-limit = 100s
output-vector-file = results802154/run-${configname}-${runnumber}/results.vec
output-scalar-file = results802154/run-${configname}-${runnumber}/results.sca






#-------
#IEEE 802.15.4 CSMA/CA
#--------
**.wlan*.mac.typename = "Ieee802154Mac"          
**.wlan*.queue.typename = "DropTailQueue"
**.wlan*.queue.packetCapacity = 50          
**.wlan[*].typename = "WirelessInterface"
**.wlan[*].radio.typename = "Ieee802154NarrowbandScalarRadio"
**.wlan*.mac.animation = true

**.arp.typename = "GlobalArp"
**.maxTransmissionDuration = 100ms
*.gateway.forwarding = true



#APP-------
*.sensor*.numApps = 1

*.sensor*.app[0].typename = "UdpBasicApp"
*.sensor*.app[0].destAddresses = "server"
*.sensor*.app[0].destPort = 1000
*.sensor*.app[0].sendInterval = 1s
*.sensor*.app[0].startTime = exponential(1s)
*.sensor*.app[0].messageLength = 10B

*.gateway.numApps = 1
*.gateway.app[0].typename="UdpSink"
*.gateway.app[0].localPort=4000


*.server.numApps = 1
*.server.app[0].typename = "UdpSink"
*.server.app[0].localPort = 1000


*.visualizer.routingTableVisualizer.lineShift = 0 
*.visualizer.infoVisualizer.modules = "*.server.app[0]"
*.visualizer.networkRouteVisualizer.displayRoutes = true
*.visualizer.physicalLinkVisualizer.displayLinks = true
*.visualizer.energyStorageVisualizer.displayEnergyStorages = true


*.sensor*.energyStorage.nominalCapacity = 0.5J
*.sensor*.energyManagement.nodeShutdownCapacity = 0.005J
*.gateway.energyStorage.nominalCapacity = 0.5J

*.gateway.energyManagement.nodeShutdownCapacity = 0.005J


[Config Attacco_Aggressivo]
extends = safe

*.maliciousNode.numApps = 1
*.maliciousNode.app[0].typename = "UdpBasicApp"
*.maliciousNode.app[0].destAddresses = "10.0.0.5"
*.maliciousNode.app[0].destPort = 4000
*.maliciousNode.app[0].messageLength = 120B      # pacchetti più grandi
*.maliciousNode.app[0].sendInterval = 0.1s     
*.maliciousNode.app[0].startTime = 0s
*.maliciousNode.wlan[*].mac.ctrlFrameLength = 40B
#Sfrutto un bitrate più basso sul nodo attaccante in modo tale che il tempo on-air di ogni messaggio/preambolo sia maggiore e dunque ogni nodo stia più tempo in RX
*.maliciousNode.wlan[*].radio.transmitter.bitrate = 125000 bps

[Config Attacco_Silenzioso]
#Piccoli pacchetti in maniera continua 
extends = safe
*.maliciousNode.numApps = 1
*.maliciousNode.app[0].typename = "UdpBasicApp"

*.maliciousNode.app[0].destAddresses = "10.0.0.5"
*.maliciousNode.app[0].destPort = 4000

*.maliciousNode.app[0].messageLength = 10B
*.maliciousNode.app[0].sendInterval = uniform(0.025s,0.5s)
*.maliciousNode.app[0].startTime = 0s

*.maliciousNode.wlan[*].mac.ctrlFrameLength = 20B
*.maliciousNode.wlan[*].radio.transmitter.bitrate = 125000 bps




[Config Attacco_Burst]
extends = safe

*.maliciousNode.numApps = 1
*.maliciousNode.app[0].typename = "UdpBasicBurst"

*.maliciousNode.app[0].chooseDestAddrMode = "once"
*.maliciousNode.app[0].destAddresses = "10.0.0.5"
*.maliciousNode.app[0].destPort = 1000

*.maliciousNode.app[0].messageLength = intuniform(40B,120B)

*.maliciousNode.app[0].sendInterval = 0.05s

# durata del burst e pausa (OFF) tra i burst
*.maliciousNode.app[0].burstDuration = 0.5s
*.maliciousNode.app[0].sleepDuration = 1s

*.maliciousNode.app[0].startTime = uniform(0s,0.5s)

*.maliciousNode.wlan[*].mac.ctrlFrameLength = 30B
*.maliciousNode.wlan[*].radio.transmitter.bitrate = 125000 bps



